  Test case: "$ref resolves to /$defs/A/allOf/1"
  Failed: #: Expected number, found string
"$id": "http://localhost:1234/draft2019-09/foobar"

    "$id": "child1"

context
    #
    http://localhost:1234/draft2019-09/foobar
$ref child1#my_anchor, http://localhost:1234/draft2019-09/child1#my_anchor

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1array
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1array
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1string
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1string
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1string
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1string
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1integer
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1#/http:~1~1localhost:1234~1draft2019-09~1child1#~1number
    http://localhost:1234/draft2019-09/child1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/0
    http://localhost:1234/draft2019-09/child1#/allOf/0
    http://localhost:1234/draft2019-09/child2

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child1#/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2#/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child1#/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2#/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child1#/allOf/0/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2#/http:~1~1localhost:1234~1draft2019-09~1child2#~1number
    http://localhost:1234/draft2019-09/child2

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/1
    http://localhost:1234/draft2019-09/child1#/allOf/1

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/1/http:~1~1localhost:1234~1draft2019-09~1child1#~1allOf~11~1string
    http://localhost:1234/draft2019-09/child1#/allOf/1/http:~1~1localhost:1234~1draft2019-09~1child1#~1allOf~11~1string

context
    http://localhost:1234/draft2019-09/foobar#/$defs/A/allOf/1/http:~1~1localhost:1234~1draft2019-09~1child1#~1allOf~11~1string
    http://localhost:1234/draft2019-09/child1#/allOf/1/http:~1~1localhost:1234~1draft2019-09~1child1#~1allOf~11~1string

